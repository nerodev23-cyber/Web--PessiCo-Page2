<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <style>
        /* General layout */
        .body-container {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        /* Table styling */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .data-table th,
        .data-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        .data-table th {
            background-color: #f2f2f2;
        }

        /* Buttons */
        .btn-accept {
            background: #4CAF50;
            color: white;
            padding: 5px 10px;
            border: none;
            cursor: pointer;
        }

        .btn-reject {
            background: #f44336;
            color: white;
            padding: 5px 10px;
            border: none;
            cursor: pointer;
            margin-left: 5px;
        }

.logout-btn {
    background: #f44336;
    color: white;
    padding: 10px 20px;
    border: none;
    cursor: pointer;
    border-radius: 5px;        /* ปรับมุมให้สวยขึ้น */
}

.logout-btn:hover {
    background-color: #c0392b; /* สีแดงเข้มเมื่อ hover */
}
        /* Search input */
        .search-container {
            margin-bottom: 20px;
        }

        .search-input {
            padding: 5px;
            width: 250px;
        }

        .search-btn {
            padding: 5px 10px;
            margin-left: 5px;
            cursor: pointer;
        }

        /* Session warning */
        .session-warning {
            display: none;
            background: #ff9800;
            color: white;
            padding: 10px;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        .search-btn, .fetch-btn , .btnaddAdmin{
    padding: 8px 14px;
    margin-left: 5px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    background-color: #007bff;
    color: white;
}

.fetch-btn {
    background-color: #28a745; /* เขียวให้ต่างจากปุ่มค้นหา */
}

.fetchSuccess-btn{
  padding: 8px 14px;
    margin-left: 5px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    background-color: #228B22;
    color: white;
}

.btnaddAdmin {
    background-color: orange; /* เขียวให้ต่างจากปุ่มค้นหา */
    color: black;
}

#apiModal {
  display: none; /* ซ่อน modal */
}

.modal {
    display: none; 
    position: fixed; 
    z-index: 1000; 
    left: 0; top: 0;
    width: 100%; height: 100%;
    overflow: auto; 
    background-color: rgba(0,0,0,0.5);
    transition: 0.3s;
}
.modal-content {
    background-color: #fff;
    margin: 8% auto; 
    padding: 25px 30px;
    border-radius: 10px;
    width: 350px;
    max-width: 90%;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    position: relative;
    animation: slideIn 0.3s ease-out;
}
.api-modal-content {
  width: 95%;
  height: 90%;      /* ความสูงสูงสุดของ modal */
  max-width: 95%;
  max-height: 90%;
  margin: 2% auto;
  overflow-y: auto; /* ✅ ทำให้ scroll เมื่อเนื้อหาเกิน */
  padding: 20px;
  box-sizing: border-box;
}

/* ปุ่มปิด modal */
.close {
    position: absolute;
    top: 15px;       /* ระยะจากขอบบน */
    right: 20px;     /* ระยะจากขอบขวา */
    font-size: 24px;
    font-weight: bold;
    color: #333;
    cursor: pointer;
    transition: color 0.2s;
}

.close:hover {
    color: red; /* เปลี่ยนสีเวลา hover */
}


    </style>
</head>
<body class="body-container">


    <!-- ช่องค้นหา + โลโก้/ข้อความ -->
<div class="search-container" style="display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px;">

    <!-- โลโก้ + ข้อความ + ปุ่ม อยู่แถวเดียวกัน -->
    <div style="display: flex; align-items: center; gap: 10px;">
        <img src="tsc512.jpg" alt="Logo" style="height: 100px;">

        <div style="display: flex; flex-direction: column;">
            <h2 id="usernameadmin" style="margin: 0;">ข้อมูลผู้ใช้งานระบบ</h2>
            <span style="font-size: 14px; color: #555;">แสดงข้อมูลเฉพาะแผนกเท่านั้น</span>
        </div>

                <h2 id="userInfo" style="margin: 0; flex-grow: 1; text-align: center;">ข้อมูลผู้ใช้งานระบบ :</h2>


        <!-- ปุ่มชิดขวาและอยู่ระดับเดียวกับโลโก้ -->
        <button class="logout-btn" id="logoutadmin" style="margin-left: auto;">ออกจากระบบ</button>
    </div>

    <!-- ช่องค้นหา + ปุ่ม -->
    <div style="display: flex; gap: 10px;">
        <input type="text" class="search-input" placeholder="ค้นหา User...">
        <button class="search-btn">ค้นหา</button>
        <button class="fetch-btn">Order ที่มีรอการยอมรับเข้าชั่ง</button>
        <button class="fetchSuccess-btn" >ปุ่ม Order ที่เตรียมเข้าชั่ง</button>
       <button class="btnaddAdmin" id="btnaddAdmin" style="display:none;">เพิ่มข้อมูล Admin</button>
       <button class="btnaddAdmin" id="btnShowAdmin" style="display:none;">รายชื่อ Admin ทั้งหมด</button>
       <button class="btnaddAdmin" id="btnShowUser" >รายชื่อ User ทั้งหมด</button>
    </div>
</div>


    <table class="data-table">
        <thead>
            <tr>
                <th>Full Name</th>
                <th>User</th>
                <th>Password</th>
                <th>Phone</th>
                <th>Supplier Name</th>
                <th>Department</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                 <td>-</td>
                <td>
                    <button class="btn-accept">ยอมรับ</button>
                    <button class="btn-reject">ไม่ยอมรับ</button>
                </td>
            </tr>
        </tbody>
    </table>


    <!-- Modal สำหรับแสดงข้อมูล  -->
<div id="apiModal" class="modal">
  <div class="modal-content api-modal-content">
    <span class="close" id="closeApiModal">&times;</span>
    <h3>Order ที่มีการลงทะเบียนเข้าชั่ง</h3>
    <table id="apiDataTable" class="data-table">
      <thead>
        <tr>
          <th>ชื่อ Supplier</th>
        <th>ชื่อ นามสกุล</th>
        <th>ชนิดรถ</th>
        <th>ทะเบียนรถ</th>
        <th>ทะเบียนรถ ท้าย</th>
        <th>สินค้า</th>
        <th>แผนกที่ต้องการติดต่อ</th>
        <th>วันที่ที่จะเข้าชั่ง</th>
        <th>เวลาที่จะเข้าชั่ง</th>
        <th>Action</th>
        </tr>
      </thead>
      <tbody id="orderList">
        <tr>
          <td colspan="8">กำลังโหลดข้อมูล...</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

    <!-- ที่ชั่งเสร็จแล้ว  -->
<div id="apiModalSuccess" class="modal">
  <div class="modal-content api-modal-content">
    <span class="close" id="closeApiModalSuccess">&times;</span>
    <h3>Order ที่เตรียมชั่ง</h3>
    <table id="apiDataTable" class="data-table">
      <thead>
        <tr>
          <th>ชื่อ Supplier</th>
        <th>ชื่อ นามสกุล</th>
        <th>ชนิดรถ</th>
        <th>ทะเบียนรถ</th>
        <th>ทะเบียนรถ ท้าย</th>
        <th>สินค้า</th>
        <th>แผนกที่ต้องการติดต่อ</th>
        <th>วันที่ที่จะเข้าชั่ง</th>
        <th>เวลาที่จะเข้าชั่ง</th>
        <th>Status</th>
        </tr>
      </thead>
      <tbody id="orderListSuccess">
        <tr>
          <td colspan="8">กำลังโหลดข้อมูล...</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


    <!-- รายการ Admin สำหรับ Super Admin  -->
<div id="apiModalshowinfoAdmin" class="modal">
  <div class="modal-content api-modal-content">
    <span class="close" id="closeApiModalshowinfoAdmin">&times;</span>
    <h3>รายชื่อ ผู้ดูแลระบบ(Admin) ทุกแผนก</h3>
    <table id="apiDataTable" class="data-table">
      <thead>
        <tr>
            <th>id</th>
            <th>ชื่อ-นามสกุล</th>
        <th>ชื่อ</th>
        <th>หรัสผ่าน</th>
        <th>ชื่อ Supplier</th>
        <th>สิทธิ์การใช้งาน</th>
        <th>แผนกที่ติดต่อ</th>
        <th>เบอร์โทร</th>
        <th>Action</th>
      
        </tr>
      </thead>
      <tbody id="orderListshowinfoAdmin">
        <tr>
          <td colspan="8">กำลังโหลดข้อมูล...</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


    <!-- แสดงรายการ Admin สำหรับ Super  -->
<div id="apiModalshowinfoUser" class="modal">
  <div class="modal-content api-modal-content">
    <span class="close" id="closeapiModalshowinfoUser">&times;</span>
    <h3>รายชื่อ ผู้ใช้งาน(User) ที่สามารถเข้าใช้งานระบบได้</h3>
    <table id="apiDataTable" class="data-table">
      <thead>
        <tr>
          <th>id</th>
          <th>ชื่อ-นามสกุล</th>
        <th>ชื่อ</th>
        <th>หรัสผ่าน</th>
        <th>ชื่อ Supplier</th>
        <th>สิทธิ์การใช้งาน</th>
        <th>แผนกที่ติดต่อ</th>
        <th>เบอร์โทร</th>
        <th>Action</th>

      
        </tr>
      </thead>
      <tbody id="orderListshowinfoUser">
        <tr>
          <td colspan="8">กำลังโหลดข้อมูล...</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>



<!-- <div id="adminModal" class="modal" style="display:none;">
  <div class="modal-content" style="background:#fff; padding:20px; border-radius:8px; width:300px; margin:auto;">
    <h3>เพิ่มข้อมูล Admin</h3>
    <form id="adminForm">
      <input type="text" id="username" placeholder="Username" required><br><br>
      <input type="password" id="password" placeholder="Password" required><br><br>
      <input type="email" id="email" placeholder="Email" required><br><br>
      <input type="text" id="department" placeholder="Department" required><br><br>
      <button type="submit">บันทึก</button>
      <button type="button" id="closeModal">ยกเลิก</button>
    </form>
  </div>
</div> -->

<div id="adminModal" class="modal" style="display:none;">
  <div class="modal-content" style="background:#fff; padding:20px; border-radius:8px; width:300px; margin:auto;">
    <h3>เพิ่มข้อมูล Admin</h3>
    <form id="adminForm">
            <label>Full-Name</label>
      <input type="text" id="fullname" placeholder="Username" required><br><br>

      <label>Username</label>
      <input type="text" id="username" placeholder="Username" required><br><br>

      <label>Password</label>
      <input type="password" id="password" placeholder="Password" required><br><br>

    <label>Type</label>
    <select id="userType" required>
      <option value="">-- เลือกประเภท --</option>
      <option value="admin">Admin</option>
      <option value="superadmin">Superadmin</option>
    </select><br><br>

    <label>Department</label>
    <input type="text" id="departmentInput" placeholder="Department" style="display:none;" readonly required><br>
    <select id="departmentSelect" style="display:none;">
      <option value="">-- เลือก Department --</option>
      <option value="Warehouse">Warehouse</option>
      <option value="Stock">Stock</option>
    </select><br><br>


      <button type="button" id="btnSaveAdmin">บันทึก</button>

      <button type="button" id="closeModal">ยกเลิก</button>
    </form>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="Admin.js"></script>

</body>
</html>
